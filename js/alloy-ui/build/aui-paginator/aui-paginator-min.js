AUI.add("aui-paginator",function(q){var k=q.Lang,I=k.isArray,S=k.isBoolean,t=k.isFunction,aj=k.isNumber,Y=k.isObject,l=k.isString,o=k.toInt,j="alwaysVisible",y="circular",c="container",ae="containers",Z="content",ah="current",F=".",u="first",G="firstPageLinkLabel",V="last",ac="lastPageLinkLabel",K="link",H="maxPageLinks",C="next",d="nextPageLinkLabel",r="option",z="page",b="pageLinkContent",ak="paginator",v="per",ai="prev",R="prevPageLinkLabel",J="report",n="rows",ag="rowsPerPage",p="rowsPerPageOptions",N="selected",a=" ",e="state",U="total",f="totalLabel",w="totalPages",M=function(){return Array.prototype.slice.call(arguments).join(a);},E=function(A){return(A instanceof q.NodeList);},i=q.getClassName,D=q.UA.ie,T=i(ak),af=i(ak,c),m=i(ak,Z),W=i(ak,ah,z),ad=i(ak,u,K),x=i(ak,V,K),h=i(ak,K),O=i(ak,C,K),ab=i(ak,z,c),s=i(ak,z,K),aa=i(ak,ah,z,J),B=i(ak,ai,K),g=i(ak,n,v,z),Q=i(ak,U),X={defaultOutput:"{FirstPageLink} {PrevPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport} {Total} {RowsPerPageSelect}",firstLink:'<a href="#" class="'+M(h,ad)+'"></a>',lastLink:'<a href="#" class="'+M(h,x)+'"></a>',nextLink:'<a href="#" class="'+M(h,O)+'"></a>',pageContainer:"<span></span>",pageLink:'<a href="#"></a>',pageReport:'<span class="'+M(aa)+'"></span>',pageReportLabel:"({page} of {totalPages})",prevLink:'<a href="#" class="'+M(h,B)+'"></a>',rowsPerPage:'<select class="'+g+'"></select>',total:'<span class="'+M(Q)+'"></span>',totalLabel:"(Total {total})"},am="&gt;",P="&lt;";var al=q.Component.create({NAME:ak,TPL:X,ATTRS:{alwaysVisible:{validator:S,value:true},circular:{validator:S,value:false},containers:{setter:function(L){var A=this;if(E(L)){return L;}else{if(l(L)){return q.all(L);}}return new q.NodeList([L]);},writeOnce:true},firstPageLinkLabel:{validator:l,value:u},lastPageLinkLabel:{validator:l,value:V},maxPageLinks:{getter:function(L){var A=this.get(w);return Math.min(A,L);},validator:aj,value:10},nextPageLinkLabel:{validator:l,value:M(C,am)},page:{setter:o,value:1},pageLinkContent:{validator:t,value:function(an,A,L){an.html(A);}},prevPageLinkLabel:{validator:l,value:M(P,ai)},rowsPerPage:{setter:o,value:1},rowsPerPageOptions:{validator:I,value:[]},state:{getter:"_getState",setter:"_setState",validator:Y,value:{}},total:{setter:"_setTotal",validator:aj,value:0},totalLabel:{getter:function(){var A=this;return k.sub(A.configTpl.totalLabel,{total:A.get(U)});},validator:l},totalPages:{readOnly:true,getter:function(ao){var A=this;var an=A.get(ag);var L=A.get(U);return Math.ceil(L/an);}}},constructor:function(an){var A=this;var L=an.TPL||{};q.mix(L,al.TPL);A.configTpl=L;al.superclass.constructor.call(A,an);},prototype:{lastState:null,templatesCache:null,renderUI:function(){var A=this;var L=A.get(ae);L.unselectable();A._renderRowsPerPageOptions();A._renderTemplateUI();L.addClass(af);},bindUI:function(){var A=this;A._delegateDOM();A.publish("changeRequest");A.after("stateChange",q.bind(A._afterSetState,A));A.before("stateChange",q.bind(A._beforeSetState,A));A.after("maxPageLinksChange",q.bind(A._renderTemplateUI,A));A.after("rowsPerPageChange",q.bind(A._renderTemplateUI,A));A.after("totalChange",q.bind(A._renderTemplateUI,A));},syncUI:function(){var A=this;A.changeRequest();},destructor:function(){var A=this;A.get(ae).remove(true);},calculateRange:function(ao){var A=this;var ar=A.get(H);var an=A.get(w);var ap=Math.ceil(ar/2);var aq=Math.min(Math.max(ao-ap,1),(an-ar+1));var L=Math.min(aq+ar-1,an);return{end:L,start:aq};},changeRequest:function(){var A=this;var ao=A.get(e);if(A.get(y)){var an=ao.page;var L=ao.totalPages;if(ao.before&&(ao.before.page==an)){if(an<=1){ao.page=L;}else{if(an>=L){ao.page=1;}}A.set(e,ao);}}A.fire("changeRequest",{state:ao});},eachContainer:function(L){var A=this;A.get(ae).each(function(an){if(an){L.apply(A,arguments);}});},hasNextPage:function(){var A=this;var L=A.get(z)+1;return A.hasPage(L);},hasPage:function(an){var A=this;var L=A.get(w);return((an>0)&&(an<=L));},hasPrevPage:function(){var A=this;var L=A.get(z)-1;return A.hasPage(L);},setState:function(L){var A=this;A.set(e,L);},_afterSetState:function(L){var A=this;A._syncPageLinksUI();A._syncPageReportUI();},_beforeSetState:function(L){var A=this;A.lastState=L.prevVal;},_bindDOMEvents:function(){var A=this;var L=A.get(ag);A.eachContainer(function(ao){var an=ao.one(F+g);if(an){an.val(L);an.detach("change");an.on("change",function(ap){try{L=ap.target.val();}catch(aq){}A.set(z,1);A.set(ag,L);A.changeRequest();});}});},_createNode:function(an,L){var A=this;var ao=q.Node.create(an);if(L){ao.html(L);}return ao;},_delegateDOM:function(){var A=this;A.eachContainer(function(an,L){an.delegate("click",q.bind(A._onClickFirstLinkEl,A),F+ad);an.delegate("click",q.bind(A._onClickLastLinkEl,A),F+x);an.delegate("click",q.bind(A._onClickNextLinkEl,A),F+O);an.delegate("click",q.bind(A._onClickPageLinkEl,A),F+s);an.delegate("click",q.bind(A._onClickPrevLinkEl,A),F+B);});},_getState:function(L){var A=this;return{before:A.lastState,page:A.get(z),paginator:A,rowsPerPage:A.get(ag),total:A.get(U),totalPages:A.get(w)};},_getTemplate:function(az){var aA=this;var aw=0;var ao=M(h,s);var ar=aA.configTpl;var L=aA.get(H);var ap=ar.pageLink;var au=aA._rowsPerPageEl;var aB=aA._createNode(ar.firstLink,aA.get(G));var ax=aA._createNode(ar.lastLink,aA.get(ac));var at=aA._createNode(ar.nextLink,aA.get(d));var an=aA._createNode(ar.pageContainer);var ay=aA._createNode(ar.pageReport,aA._pageReportLabel);var A=aA._createNode(ar.prevLink,aA.get(R));var av=aA._createNode(ar.total,aA.get(f));an.addClass(ab);while(aw++<L){var aq=aA._createNode(ap);aq.addClass(ao);an.append(aq);}if(au){var aC=au.outerHTML();if(D>=9){aC=aC.replace(/selected=""/gi,"");}}aA.templates=k.sub(az,{CurrentPageReport:ay.outerHTML(),FirstPageLink:aB.outerHTML(),LastPageLink:ax.outerHTML(),NextPageLink:at.outerHTML(),PageLinks:an.outerHTML(),PrevPageLink:A.outerHTML(),RowsPerPageSelect:aC,Total:av.outerHTML()});return aA.templates;},_onClickFirstLinkEl:function(L){var A=this;A.set(z,1);A.changeRequest();
L.halt();},_onClickLastLinkEl:function(an){var A=this;var L=A.get(w);A.set(z,L);A.changeRequest();an.halt();},_onClickNextLinkEl:function(an){var A=this;var ao=A.get(z);var L=A.hasNextPage()?ao+1:ao;A.set(z,L);A.changeRequest();an.halt();},_onClickPageLinkEl:function(an){var A=this;var L=an.currentTarget.attr(z);A.set(z,L);A.changeRequest();an.halt();},_onClickPrevLinkEl:function(an){var A=this;var ao=A.get(z);var L=(A.hasPrevPage()?ao-1:ao);A.set(z,L);A.changeRequest();an.halt();},_renderRowsPerPageOptions:function(){var A=this;var aq=A.get(ag);var ar=A.get(p);var ap=A.configTpl.rowsPerPage;var L=A._createNode(ap);var an=L.all(r);L.addClass(g);an.removeAttribute(N);var ao=an.filter("[value="+aq+"]");if(ao){ao.setAttribute(N,N);}q.each(ar,function(av,au,aw){var at=L.getDOM();at.options[au]=new Option(av,av);});A._rowsPerPageEl=L;},_renderTemplateUI:function(){var A=this;var L=A.get(ae);A._getTemplate(A.configTpl.defaultOutput);L.html(A.templates);A._syncPageLinksUI();A._syncPageReportUI();A._bindDOMEvents();},_setState:function(L){var A=this;q.each(L,function(ao,an){A.set(an,ao);});return L;},_setTotal:function(ao){var A=this;var L=A.get(j);var an=A.get(ag);var ap=(L||(ao!==0&&ao>an));A.get(ae).toggle(ap);return ao;},_syncPageLinksUI:function(){var A=this;var an=A.get(z);var L=A.calculateRange(an);A.get(ae).each(function(aq){var ap=0;var ao=L.start;var au=aq.all(F+s);if(au.size()){au.removeClass(W);while(ao<=L.end){var at=A.get(b);var ar=au.item(ap);at.apply(A,[ar,ao,ap]);ar.setAttribute(z,ao);if(ao==an){ar.addClass(W);}ap++;ao++;}}});},_syncPageReportUI:function(L){var A=this;A._pageReportLabel=k.sub(A.configTpl.pageReportLabel,{page:A.get(z),totalPages:A.get(w)});A.get(ae).each(function(an){var ao=an.one(F+aa);if(ao){ao.html(A._pageReportLabel);}});}}});q.Paginator=al;},"@VERSION@",{requires:["aui-base"],skinnable:true});